# Nexus - AI-Powered SSH Terminal Management System

<div align="center">

![Nexus Logo](https://img.shields.io/badge/Nexus-SSH%20Terminal-blue?style=for-the-badge)
[![License: Apache 2.0](https://img.shields.io/badge/License-Apache%202.0-green.svg?style=for-the-badge)](https://opensource.org/licenses/Apache-2.0)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg?style=for-the-badge)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104.1-teal.svg?style=for-the-badge)](https://fastapi.tiangolo.com/)
[![Svelte](https://img.shields.io/badge/Svelte-5.0-orange.svg?style=for-the-badge)](https://svelte.dev/)

**Transform server management from manual command execution to AI-assisted administration**

[ğŸš€ Quick Start](#-quick-start) â€¢ [ğŸ“– Documentation](#-features) â€¢ [ğŸ› ï¸ Installation](#ï¸-installation) â€¢ [ğŸ¯ Usage](#-usage)

</div>

---

## ğŸ¯ Project Overview

Nexus is an AI-powered SSH terminal management tool that combines **live terminal access** with **intelligent AI assistance**. Users can manage multiple servers through both direct SSH terminal access and natural language commands processed by a local AI model.

### âœ¨ **Current Status: Phase 2 - AI Integration Complete (87%)**

- âœ… **Live SSH Terminal** - Fully functional with WebSocket support
- âœ… **Professional UI** - Modern Svelte frontend with responsive design
- âœ… **Real-time Communication** - WebSocket protocol for terminal I/O
- âœ… **Connection Management** - Multi-server support with session handling
- âœ… **AI Chat Integration** - Working Ollama (gpt-oss:20b) integration with streaming responses
- âœ… **Command Generation** - AI detects and suggests commands with safety validation
- âš ï¸ **Security Hardening** - Minor improvements needed for production readiness

---

## ğŸ—ï¸ Architecture

### **Current Architecture (Working)**
```
Svelte Frontend (Port 5173)
    â”œâ”€â”€ WebSocket: /ws/terminal â†’ SSH Terminal
    â””â”€â”€ API Proxy: /api â†’ FastAPI Backend
            â†“
FastAPI Backend (Port 8000)
    â”œâ”€â”€ SSH Manager (AsyncSSH)
    â”œâ”€â”€ WebSocket Handler
    â””â”€â”€ Terminal Sessions
            â†“
SSH Servers (Any host/port)
```

### **Current Full Architecture (Phase 2 Complete)**
```
Svelte Frontend (Port 5173)
    â”œâ”€â”€ WebSocket: /ws/terminal â†’ SSH Terminal
    â””â”€â”€ WebSocket: /ws/ai â†’ AI Chat âœ…
            â†“
FastAPI Backend (Port 8000)
    â”œâ”€â”€ SSH Manager (âœ… Complete)
    â”œâ”€â”€ AI Manager (âœ… Complete)
    â””â”€â”€ Context Manager (âœ… Integrated)
            â†“
    â”œâ”€â”€ SSH Servers (Any host/port)
    â””â”€â”€ Ollama (gpt-oss:20b)
```

---

## ğŸš€ Quick Start

### **ğŸ³ Docker Deployment (Recommended)**

**Prerequisites:** Docker & Ollama installed on your system

```bash
# 1. Install Ollama (AI engine)
curl -fsSL https://ollama.com/install.sh | sh
ollama pull gpt-oss:20b  # Download AI model (~12GB)

# 2. Clone and start Nexus
git clone <your-repo-url>
cd nexus
docker-compose up -d

# 3. Open browser
# http://localhost:3000
```

**ğŸ‰ Done! One command deployment!**
ğŸ“– See [Docker Setup Guide](docs/DOCKER_SETUP.md) for details.

---

### **ğŸ’» Local Development Setup**

**Prerequisites:** Python 3.8+, Node.js 18+, SSH access

```bash
# 1. Clone the repository
git clone <your-repo-url>
cd nexus

# 2. Backend Setup
cd backend
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate     # Windows
pip install -r requirements.txt

# 3. Frontend Setup
cd ../frontend
npm install

# 4. Start Services
# Terminal 1 - Backend
cd backend && source venv/bin/activate && python app.py

# Terminal 2 - Frontend
cd frontend && npm run dev

# 5. Open Browser
# http://localhost:5173
```

**ğŸ‰ You now have a fully functional SSH terminal in your browser!**

---

## âœ¨ Features

### **ğŸ–¥ï¸ Live SSH Terminal (Available Now)**
- **Real-time terminal access** with full interactivity
- **Multiple server connections** with session management
- **Professional terminal emulation** using xterm.js
- **Copy/paste support** and keyboard shortcuts
- **Connection status monitoring** with auto-reconnect
- **Responsive design** for desktop and mobile

### **ğŸ¤– AI Assistant (Phase 2.2 - Available Now)**
- âœ… **Natural language commands** - "Check disk space on all servers"
- âœ… **Intelligent command generation** with safety validation
- âœ… **Context-aware responses** using server information
- âœ… **Local AI processing** with Ollama (gpt-oss:20b)
- âœ… **Streaming chat interface** with real-time responses
- âœ… **Command detection and execution** with safety levels

### **ğŸ”’ Security & Safety (Phase 3 - Planned)**
- **Multi-level safety system** with command validation
- **Audit logging** for all AI-generated commands
- **Local deployment** - no cloud dependencies
- **SSH key support** with secure credential storage

---

## ğŸ› ï¸ Installation

### **Docker Deployment (Recommended for Home Users)**

The easiest way to deploy Nexus is with Docker:

```bash
# Install Docker (if not already installed)
curl -fsSL https://get.docker.com | sh

# Install Ollama AI engine
curl -fsSL https://ollama.com/install.sh | sh
ollama pull gpt-oss:20b

# Clone and run
git clone <your-repo-url>
cd nexus
docker-compose up -d
```

Access at: **http://localhost:3000**

ğŸ“– **Full guide:** [docs/DOCKER_SETUP.md](docs/DOCKER_SETUP.md)

---

### **Development Environment**

#### **Cross-Platform Setup**
Works on Windows, macOS, and Linux:

```bash
# Backend Dependencies
cd backend
python3 -m venv venv

# Activate virtual environment
source venv/bin/activate        # macOS/Linux
# or
venv\Scripts\activate           # Windows

pip install -r requirements.txt

# Frontend Dependencies
cd ../frontend
npm install
```

#### **Running the Application**

```bash
# Start Backend (Terminal 1)
cd backend
source venv/bin/activate  # or venv\Scripts\activate on Windows
python app.py
# Backend runs on http://localhost:8000

# Start Frontend (Terminal 2)  
cd frontend
npm run dev
# Frontend runs on http://localhost:5173 with API proxy
```

### **Docker Deployment (Available Now!)**

```bash
# One command deployment - see Docker Setup Guide
docker-compose up -d
# Access at http://localhost:3000
```

ğŸ“– **See:** [docs/DOCKER_SETUP.md](docs/DOCKER_SETUP.md)

---

## ğŸ¯ Usage

### **1. Connect to SSH Server**

1. **Open Nexus** in your browser: `http://localhost:5173`
2. **Enter connection details**:
   - Host: `your-server.com` or IP address
   - Port: `22` (default)
   - Username: Your SSH username
   - Password: Your SSH password
3. **Click Connect** - you'll have a live terminal session!

### **2. Terminal Features**

```bash
# Everything works like a normal terminal
ls -la
cd /var/log
tail -f syslog
htop
vim config.txt

# Copy/paste with Ctrl+C / Ctrl+V
# Terminal resizing automatically
# Full color and formatting support
```

### **3. Session Management**

- **Multiple connections**: Connect to different servers simultaneously
- **Session persistence**: WebSocket reconnection maintains your session
- **Connection status**: Real-time monitoring of connection health
- **Quick disconnect**: One-click session termination

### **4. AI Assistant (Available Now)**

```
You: "Check disk space on all servers"
AI: I'll check disk usage. Here's the command:
    df -h

[Execute] [Cancel] (Safety: Safe âœ“)
```

**Features:**
- Natural language server management
- Real-time streaming AI responses
- Command detection with safety levels (Safe/Caution/Dangerous)
- One-click command execution to terminal
- Context-aware suggestions based on terminal session

---

## ğŸ“ Project Structure

```
nexus/
â”œâ”€â”€ backend/                    # FastAPI Backend
â”‚   â”œâ”€â”€ app.py                 # Main FastAPI application
â”‚   â”œâ”€â”€ terminal_manager.py    # SSH session management
â”‚   â”œâ”€â”€ ai_manager.py          # AI session management (NEW)
â”‚   â”œâ”€â”€ requirements.txt       # Python dependencies
â”‚   â””â”€â”€ terminal.html         # Legacy HTML (backup)
â”œâ”€â”€ frontend/                  # Svelte Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/+page.svelte    # Main application page
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ Terminal.svelte    # Terminal component
â”‚   â”‚   â”‚   â””â”€â”€ AIChat.svelte      # AI Chat component (NEW)
â”‚   â”‚   â””â”€â”€ app.html              # HTML template
â”‚   â”œâ”€â”€ package.json           # Node.js dependencies
â”‚   â””â”€â”€ vite.config.ts        # Vite configuration with proxy
â”œâ”€â”€ README.md                  # This file
â””â”€â”€ .gitignore                # Git ignore rules
```

---

## ğŸ”§ Configuration

### **Environment Variables**

```bash
# Backend Configuration
NEXUS_HOST=0.0.0.0          # Backend host
NEXUS_PORT=8000             # Backend port  
NEXUS_LOG_LEVEL=info        # Logging level

# AI Configuration (Available Now)
OLLAMA_HOST=localhost       # Ollama host (default)
OLLAMA_PORT=11434          # Ollama port (default)
AI_MODEL=gpt-oss:20b       # AI model name (requires Ollama)
```

### **Proxy Configuration**

The frontend automatically proxies API calls to the backend:

```typescript
// vite.config.ts
server: {
    proxy: {
        '/ws': 'ws://localhost:8000',    // WebSocket proxy
        '/api': 'http://localhost:8000', // API proxy
        '/health': 'http://localhost:8000'
    }
}
```

---

## ğŸš§ Development Status

### **âœ… Phase 1: SSH Terminal Foundation - COMPLETE (95%)**
- âœ… FastAPI backend with WebSocket support
- âœ… Real-time SSH terminal with xterm.js
- âœ… Svelte frontend with responsive design
- âœ… Connection management and session handling
- âœ… Professional UI with status indicators

### **ğŸ”„ Phase 2: AI Chat Integration - IN PROGRESS (87%)**

#### **2.1 Frontend Framework Migration - COMPLETE âœ… (100%)**
- âœ… Convert HTML/CSS/JS to Svelte components
- âœ… Create responsive layout: Terminal + AI Chat panels
- âœ… Maintain all existing terminal functionality
- âœ… Add collapsible panel support

#### **2.2 AI Chat Interface - COMPLETE âœ… (90%)**
- âœ… Chat UI component with message history
- âœ… WebSocket endpoint for AI communication (`/ws/ai`)
- âœ… Integration with Ollama (gpt-oss:20b)
- âœ… Message parsing and command generation
- âœ… Streaming response display
- âœ… Command detection and safety warnings
- âš ï¸ Minor fixes needed (Python 3.8 compatibility, security hardening)

#### **2.3 Backend AI Integration - COMPLETE âœ… (85%)**
- âœ… AI service integration (`ai_manager.py`)
- âœ… Ollama client setup and configuration
- âœ… Command generation and safety validation
- âœ… Server context collection and caching
- âœ… Multi-session management
- âš ï¸ Security improvements needed (rate limiting, command validation)

### **ğŸ“‹ Phase 3: Advanced Features - PLANNED (0%)**
- ğŸ”„ Multi-server support with dropdown selection
- ğŸ”„ Server credentials storage (local/secure)
- ğŸ”„ Multi-level safety system (PARANOID/SAFE/CAUTIOUS/NORMAL/PERMISSIVE)
- ğŸ”„ Documentation integration (PDF parsing)

### **ğŸš€ Phase 4: Production & Packaging - IN PROGRESS (60%)**
- âœ… Docker Compose deployment
- âœ… Multi-container setup: Backend + Frontend + Host Ollama
- âœ… Cross-platform compatibility
- âœ… Installation documentation (docs/DOCKER_SETUP.md)
- ğŸ”„ Production optimizations (HTTPS, secrets management)
- ğŸ”„ CI/CD pipeline configuration

---

## ğŸ“ˆ Technical Achievements

### **Performance Metrics**
- âœ… **Sub-1 second SSH terminal response time** - Achieved
- âœ… **Real-time WebSocket communication** - Optimized
- âœ… **Responsive UI design** - Mobile-friendly
- âœ… **Memory efficient** - <100MB without AI model
- âœ… **Cross-platform compatibility** - Windows, macOS, Linux

### **Architecture Highlights**
- âœ… **Modern tech stack**: FastAPI + Svelte + WebSockets
- âœ… **Async/await patterns** throughout the codebase
- âœ… **Type safety** with TypeScript and Python type hints
- âœ… **Component-based UI** with reusable Svelte components
- âœ… **Development proxy** for seamless frontend/backend integration

---

## ğŸ› ï¸ Development

### **Running in Development Mode**

```bash
# Hot reload for both frontend and backend
npm run dev          # Frontend with hot reload
python app.py        # Backend with auto-reload
```

### **Building for Production**

```bash
# Build frontend for production
cd frontend
npm run build

# The built files will be served by FastAPI in production
```

### **Code Quality**

```bash
# Frontend linting
cd frontend
npm run lint
npm run format

# Backend formatting (future)
cd backend  
black .
isort .
```

---

## ğŸ¯ Next Steps

### **Immediate Priority (This Week)**
1. **Security Hardening** âš ï¸
   - Fix Python 3.8 compatibility issue (`asyncio.timeout` â†’ `asyncio.wait_for`)
   - Add command validation whitelist/blacklist system
   - Implement rate limiting for AI requests
   - Strengthen prompt injection defenses

2. **Code Quality Improvements**
   - Reduce WebSocket handler duplication
   - Remove circular import in `ai_manager.py`
   - Simplify error handling patterns
   - Add unit tests for command safety assessment

### **This Month**
1. **Enhanced Multi-server Support** - Server profiles with credential storage
2. **Audit Logging** - Track all AI-generated commands and executions
3. **Documentation** - Add API documentation and usage guides
4. **Testing** - Comprehensive test suite for AI and terminal integration

---

## ğŸ¤ Contributing

Nexus is in active development! Contributions welcome:

1. **Fork the repository**
2. **Create a feature branch** (`git checkout -b feature/amazing-feature`)
3. **Commit your changes** (`git commit -m 'Add amazing feature'`)
4. **Push to the branch** (`git push origin feature/amazing-feature`)
5. **Open a Pull Request**

### **Development Guidelines**
- Follow existing code patterns
- Add TypeScript types for new frontend code
- Include Python type hints for backend code
- Test your changes thoroughly
- Update documentation as needed

---

## ğŸ“„ License

This project is licensed under the Apache 2.0 License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **[OpenAI GPT-OSS](https://huggingface.co/openai/gpt-oss-20b)** - Open-weight AI model for local processing
- **[Ollama](https://ollama.ai/)** - Local AI model hosting platform
- **[FastAPI](https://fastapi.tiangolo.com/)** - Modern, fast web framework for building APIs
- **[Svelte](https://svelte.dev/)** - Cybernetically enhanced web apps
- **[AsyncSSH](https://asyncssh.readthedocs.io/)** - Asynchronous SSH2 protocol library
- **[xterm.js](https://xtermjs.org/)** - Terminal emulator for the web

---

<div align="center">

**Made with â¤ï¸ for server administrators and DevOps engineers**

â­ **Star this repository if Nexus helps you manage your servers better!**

[ğŸš€ Get Started](#-quick-start) â€¢ [ğŸ’¬ Report Issues](https://github.com/yourusername/nexus/issues) â€¢ [ğŸ“– Documentation](https://github.com/yourusername/nexus/wiki)

</div>